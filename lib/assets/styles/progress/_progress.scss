@import "progress.orig";

// SVG-Base: (http://meyerweb.com/eric/tools/dencoder/)
//  <svg width="12" height="4" xmlns="http://www.w3.org/2000/svg"><ellipse cx="2" cy="2" rx="2" ry="2"><animate attributeName="cx" from="2" to="-10" dur="0.6s" repeatCount="indefinite"/></ellipse><ellipse cx="14" cy="2" rx="2" ry="2" class="loader"><animate attributeName="cx" from="14" to="2" dur="0.6s" repeatCount="indefinite"/></ellipse></svg>

@function svg-buffer() {
    // URL-Encoded buffer.svg
    @return url('data:image/svg+xml;charset=utf-8,' +
        '%3Csvg%20width%3D%2212%22%20height%3D%224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cellipse%20cx%3D%222%22%20cy%3D%222%22%20rx%3D%222%22%20ry%3D%222%22%3E%3Canimate%20attributeName%3D%22cx%22%20from%3D%222%22%20to%3D%22-10%22%20dur%3D%220.6s%22%20repeatCount%3D%22indefinite%22%2F%3E%3C%2Fellipse%3E%3Cellipse%20cx%3D%2214%22%20cy%3D%222%22%20rx%3D%222%22%20ry%3D%222%22%20class%3D%22loader%22%3E%3Canimate%20attributeName%3D%22cx%22%20from%3D%2214%22%20to%3D%222%22%20dur%3D%220.6s%22%20repeatCount%3D%22indefinite%22%2F%3E%3C%2Fellipse%3E%3C%2Fsvg%3E');
}

// Webkit only
@supports (-webkit-appearance:none) {
    .mdl-js-progress:not(.mdl-progress__indeterminate):not(.mdl-progress__indeterminate) > .auxbar {
        background-image: linear-gradient(to right, $progress-secondary-color, $progress-secondary-color),
        linear-gradient(to right, $progress-main-color, $progress-main-color);
        mask: svg-buffer();
    }
}